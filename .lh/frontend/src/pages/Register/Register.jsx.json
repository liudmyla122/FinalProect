{
    "sourceFile": "frontend/src/pages/Register/Register.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1769705648605,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1769705648605,
            "name": "Commit-0",
            "content": "import { useState, useEffect } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { authAPI } from '../../services/api';\nimport { setUserToLocalStorage } from '../../utils/storage';\nimport './Auth.css';\n\nconst Register = () => {\n  const navigate = useNavigate();\n  \n  useEffect(() => {\n    document.title = 'Sign up - ICHGRAM';\n  }, []);\n  const [formData, setFormData] = useState({\n    email: '',\n    fullName: '',\n    username: '',\n    password: '',\n  });\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  const handleChange = (e) => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value,\n    });\n    setError('');\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError('');\n    setLoading(true);\n\n    try {\n      const response = await authAPI.register(formData);\n      \n      localStorage.setItem('token', response.token);\n      setUserToLocalStorage(response.user);\n      navigate('/');\n    } catch (err) {\n      setError(err.response?.data?.message || 'Ошибка при регистрации');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"auth-container\">\n      <div className=\"auth-box\">\n        <h1 className=\"auth-logo\">ICHGRAM</h1>\n        <p className=\"auth-subtitle\">\n          Sign up to see photos and videos from your friends.\n        </p>\n\n        <form onSubmit={handleSubmit} className=\"auth-form\">\n          {error && <div className=\"auth-error\">{error}</div>}\n\n          <input\n            type=\"email\"\n            name=\"email\"\n            placeholder=\"Email\"\n            value={formData.email}\n            onChange={handleChange}\n            required\n            className=\"auth-input\"\n          />\n\n          <input\n            type=\"text\"\n            name=\"fullName\"\n            placeholder=\"Full Name\"\n            value={formData.fullName}\n            onChange={handleChange}\n            required\n            className=\"auth-input\"\n          />\n\n          <input\n            type=\"text\"\n            name=\"username\"\n            placeholder=\"Username\"\n            value={formData.username}\n            onChange={handleChange}\n            required\n            className=\"auth-input\"\n          />\n\n          <input\n            type=\"password\"\n            name=\"password\"\n            placeholder=\"Password\"\n            value={formData.password}\n            onChange={handleChange}\n            required\n            minLength={6}\n            className=\"auth-input\"\n          />\n\n          <p className=\"auth-info\">\n            People who use our service may have uploaded your contact\n            information to Instagram.{' '}\n            <a href=\"#\" className=\"auth-link\">\n              Learn More\n            </a>\n          </p>\n\n          <p className=\"auth-info\">\n            By signing up, you agree to our{' '}\n            <a href=\"#\" className=\"auth-link\">\n              Terms\n            </a>\n            ,{' '}\n            <a href=\"#\" className=\"auth-link\">\n              Privacy Policy\n            </a>{' '}\n            and{' '}\n            <a href=\"#\" className=\"auth-link\">\n              Cookies Policy\n            </a>\n            .\n          </p>\n\n          <button type=\"submit\" className=\"auth-button\" disabled={loading}>\n            {loading ? 'Signing up...' : 'Sign up'}\n          </button>\n        </form>\n      </div>\n\n      <div className=\"auth-switch-box\">\n        <p className=\"auth-switch\">\n          Have an account?{' '}\n          <Link to=\"/login\" className=\"auth-link\">\n            Log in\n          </Link>\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport default Register;\n\n"
        }
    ]
}