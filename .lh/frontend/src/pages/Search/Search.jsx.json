{
    "sourceFile": "frontend/src/pages/Search/Search.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1769705827449,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1769705827449,
            "name": "Commit-0",
            "content": "import { useEffect, useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { authAPI } from '../../services/api';\nimport { useCreatePost } from '../../context/CreatePostContext';\nimport foto1 from '../../assets/images/login/foto1.svg';\nimport post1 from '../../assets/images/login/post1.jpg';\nimport './Search.css';\n\nconst Search = () => {\n  const navigate = useNavigate();\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [recentSearches, setRecentSearches] = useState(['sashaa']);\n  const { open: openCreateModal } = useCreatePost();\n\n  useEffect(() => {\n    document.title = 'Search - ICHGRAM';\n    \n    const token = localStorage.getItem('token');\n    if (!token) {\n      navigate('/login');\n      return;\n    }\n\n    const fetchUser = async () => {\n      try {\n        const response = await authAPI.getCurrentUser();\n        setUser(response.user);\n      } catch (error) {\n        localStorage.removeItem('token');\n        localStorage.removeItem('user');\n        navigate('/login');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchUser();\n  }, [navigate]);\n\n  const handleSearchChange = (e) => {\n    setSearchQuery(e.target.value);\n  };\n\n  const handleClearSearch = () => {\n    setSearchQuery('');\n  };\n\n  const handleClearRecent = () => {\n    setRecentSearches([]);\n  };\n\n  if (loading) {\n    return <div className=\"search-loading\">Загрузка...</div>;\n  }\n\n  return (\n    <div className=\"search-container\">\n      <div className=\"search-layout\">\n        {}\n        <aside className=\"search-sidebar\">\n          <div className=\"search-sidebar-logo\">ICHGRAM</div>\n          <nav className=\"search-sidebar-nav\">\n            <Link to=\"/\" className=\"search-nav-item\">\n              <svg className=\"search-nav-icon\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                <path d=\"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z\"></path>\n                <polyline points=\"9 22 9 12 15 12 15 22\"></polyline>\n              </svg>\n              <span>Home</span>\n            </Link>\n            <Link to=\"/search\" className=\"search-nav-item active\">\n              <svg className=\"search-nav-icon\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                <circle cx=\"11\" cy=\"11\" r=\"8\"></circle>\n                <path d=\"m21 21-4.35-4.35\"></path>\n              </svg>\n              <span>Search</span>\n            </Link>\n            <Link to=\"/explore\" className=\"search-nav-item\">\n              <svg className=\"search-nav-icon\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                <polygon points=\"12 2 2 7 12 12 22 7 12 2\"></polygon>\n                <polyline points=\"2 17 12 22 22 17\"></polyline>\n                <polyline points=\"2 12 12 17 22 12\"></polyline>\n              </svg>\n              <span>Explore</span>\n            </Link>\n            <Link to=\"/messages\" className=\"search-nav-item\">\n              <svg className=\"search-nav-icon\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                <line x1=\"22\" y1=\"2\" x2=\"11\" y2=\"13\"></line>\n                <polygon points=\"22 2 15 22 11 13 2 9 22 2\"></polygon>\n              </svg>\n              <span>Messages</span>\n            </Link>\n            <Link to=\"/notifications\" className=\"search-nav-item\">\n              <svg className=\"search-nav-icon\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                <path d=\"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z\"></path>\n              </svg>\n              <span>Notifications</span>\n            </Link>\n            <button\n              className=\"search-nav-item\"\n              type=\"button\"\n              onClick={openCreateModal}\n              style={{ background: 'none', border: 'none', width: '100%', textAlign: 'left', cursor: 'pointer' }}\n            >\n              <svg className=\"search-nav-icon\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                <rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"2\" ry=\"2\"></rect>\n                <line x1=\"12\" y1=\"8\" x2=\"12\" y2=\"16\"></line>\n                <line x1=\"8\" y1=\"12\" x2=\"16\" y2=\"12\"></line>\n              </svg>\n              <span>Create</span>\n            </button>\n            <Link to=\"/profile\" className=\"search-nav-item\">\n              <svg className=\"search-nav-icon\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                <path d=\"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2\"></path>\n                <circle cx=\"12\" cy=\"7\" r=\"4\"></circle>\n              </svg>\n              <span>Profile</span>\n            </Link>\n          </nav>\n        </aside>\n\n        {}\n        <div className=\"search-panel\">\n          <div className=\"search-panel-header\">\n            <h2 className=\"search-panel-title\">Search</h2>\n          </div>\n\n          <div className=\"search-input-container\">\n            <svg className=\"search-input-icon\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n              <circle cx=\"11\" cy=\"11\" r=\"8\"></circle>\n              <path d=\"m21 21-4.35-4.35\"></path>\n            </svg>\n            <input\n              type=\"text\"\n              className=\"search-input\"\n              placeholder=\"Search\"\n              value={searchQuery}\n              onChange={handleSearchChange}\n            />\n            {searchQuery && (\n              <button className=\"search-clear-btn\" onClick={handleClearSearch}>\n                <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                  <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"></line>\n                  <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"></line>\n                </svg>\n              </button>\n            )}\n          </div>\n\n          {!searchQuery && recentSearches.length > 0 && (\n            <div className=\"search-recent-section\">\n              <div className=\"search-recent-header\">\n                <h3 className=\"search-recent-title\">Recent</h3>\n                <button className=\"search-clear-recent-btn\" onClick={handleClearRecent}>\n                  Clear\n                </button>\n              </div>\n              <div className=\"search-recent-list\">\n                {recentSearches.map((search, index) => (\n                  <div key={index} className=\"search-recent-item\">\n                    <div className=\"search-recent-avatar\">\n                      {}\n                    </div>\n                    <span className=\"search-recent-username\">{search}</span>\n                  </div>\n                ))}\n              </div>\n            </div>\n          )}\n\n          {searchQuery && (\n            <div className=\"search-results\">\n              <p className=\"search-results-text\">Search results for: {searchQuery}</p>\n            </div>\n          )}\n        </div>\n\n        {}\n        <div className=\"search-overlay\"></div>\n\n        {}\n        <main className=\"search-main\">\n          {}\n          <div className=\"search-posts-container\">\n            {}\n            <article className=\"search-post\">\n              <div className=\"search-post-header\">\n                <div className=\"search-post-user\">\n                  <div className=\"search-post-avatar-placeholder\">\n                    <img src={foto1} alt=\"User avatar\" className=\"search-post-avatar-image\" />\n                  </div>\n                  <div className=\"search-post-user-info\">\n                    <span className=\"search-post-username\">sashaa</span>\n                    <span className=\"search-post-time\">2 week</span>\n                  </div>\n                </div>\n                <button className=\"search-post-follow-btn\">follow</button>\n              </div>\n\n              <div className=\"search-post-image-placeholder\">\n                <img src={post1} alt=\"Post image\" className=\"search-post-image\" />\n              </div>\n\n              <div className=\"search-post-actions\">\n                <button className=\"search-post-action-btn\">\n                  <svg className=\"search-post-icon\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                    <path d=\"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z\"></path>\n                  </svg>\n                </button>\n                <button className=\"search-post-action-btn\">\n                  <svg className=\"search-post-icon\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                    <path d=\"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z\"></path>\n                  </svg>\n                </button>\n                <button className=\"search-post-action-btn\">\n                  <svg className=\"search-post-icon\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                    <line x1=\"22\" y1=\"2\" x2=\"11\" y2=\"13\"></line>\n                    <polygon points=\"22 2 15 22 11 13 2 9 22 2\"></polygon>\n                  </svg>\n                </button>\n                <button className=\"search-post-action-btn\">\n                  <svg className=\"search-post-icon\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                    <path d=\"M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z\"></path>\n                  </svg>\n                </button>\n              </div>\n\n              <div className=\"search-post-likes\">101 824 likes</div>\n\n              <div className=\"search-post-caption\">\n                <span className=\"search-post-caption-username\">Sashaa</span>{' '}\n                It's golden, Ponyday!\n              </div>\n\n              <div className=\"search-post-comments-preview\">\n                heyyyyyyy ... more\n              </div>\n\n              <button className=\"search-post-view-comments\">\n                View all comments (732)\n              </button>\n            </article>\n\n            {}\n            <article className=\"search-post\">\n              <div className=\"search-post-header\">\n                <div className=\"search-post-user\">\n                  <div className=\"search-post-avatar-placeholder\">\n                    <img src={foto1} alt=\"User avatar\" className=\"search-post-avatar-image\" />\n                  </div>\n                  <div className=\"search-post-user-info\">\n                    <span className=\"search-post-username\">sashaa</span>\n                    <span className=\"search-post-time\">2 week</span>\n                  </div>\n                </div>\n                <button className=\"search-post-follow-btn\">follow</button>\n              </div>\n\n              <div className=\"search-post-image-placeholder\">\n                <img src={post1} alt=\"Post image\" className=\"search-post-image\" />\n              </div>\n\n              <div className=\"search-post-actions\">\n                <button className=\"search-post-action-btn\">\n                  <svg className=\"search-post-icon\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                    <path d=\"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z\"></path>\n                  </svg>\n                </button>\n                <button className=\"search-post-action-btn\">\n                  <svg className=\"search-post-icon\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                    <path d=\"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z\"></path>\n                  </svg>\n                </button>\n                <button className=\"search-post-action-btn\">\n                  <svg className=\"search-post-icon\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                    <line x1=\"22\" y1=\"2\" x2=\"11\" y2=\"13\"></line>\n                    <polygon points=\"22 2 15 22 11 13 2 9 22 2\"></polygon>\n                  </svg>\n                </button>\n                <button className=\"search-post-action-btn\">\n                  <svg className=\"search-post-icon\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                    <path d=\"M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z\"></path>\n                  </svg>\n                </button>\n              </div>\n\n              <div className=\"search-post-likes\">101 824 likes</div>\n\n              <div className=\"search-post-caption\">\n                <span className=\"search-post-caption-username\">Sashaa</span>{' '}\n                It's golden, Ponyday!\n              </div>\n\n              <div className=\"search-post-comments-preview\">\n                heyyyyyyy ... more\n              </div>\n\n              <button className=\"search-post-view-comments\">\n                View all comments (732)\n              </button>\n            </article>\n          </div>\n        </main>\n      </div>\n    </div>\n  );\n};\n\nexport default Search;\n"
        }
    ]
}